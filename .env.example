# ============================================
# IntelHQ — Environment Variables
# ============================================
# Copy this file to .env.local and fill in the values you need.
#
#   cp .env.example .env.local
#
# ─── Required vs Optional ───────────────────
# ALL variables are optional. The dashboard degrades gracefully —
# features that depend on a missing key are simply disabled.
# There are no hard requirements to start the dev server.
#
# ─── Variant-specific notes ─────────────────
# VITE_VARIANT controls which panels/layers are visible:
#   "full"    — intelhq.io  (all layers)
#   "tech"    — tech.intelhq.io  (tech-focused subset)
#   "finance" — finance.intelhq.io  (markets-focused subset)
#
# VITE_ENABLE_AIS, VITE_ENABLE_CYBER_LAYER are feature toggles
# that can selectively enable/disable layers regardless of variant.
#
# VITE_DESKTOP_RUNTIME, VITE_TAURI_* are only relevant for
# desktop (Tauri) builds and should NOT be set for web deploys.
# ============================================


# ═══════════════════════════════════════════
#  API Keys — Server-side (Vercel / self-host)
# ═══════════════════════════════════════════

# ------ AI Summarization ------

# Groq API (primary — 14,400 req/day on free tier)
# Get yours at: https://console.groq.com/
GROQ_API_KEY=

# OpenRouter API (fallback — 50 req/day on free tier)
# Get yours at: https://openrouter.ai/
OPENROUTER_API_KEY=


# ------ Cross-User Cache (Upstash Redis) ------

# Used to deduplicate AI calls and cache risk scores across visitors.
# Create a free Redis database at: https://upstash.com/
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=


# ------ Market Data ------

# Finnhub (primary stock quotes — free tier available)
# Register at: https://finnhub.io/
FINNHUB_API_KEY=


# ------ Energy Data ------

# U.S. Energy Information Administration (oil prices, production, inventory)
# Register at: https://www.eia.gov/opendata/
EIA_API_KEY=


# ------ Economic Data ------

# FRED (Federal Reserve Economic Data)
# Register at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=


# ------ Aircraft Tracking ------

# Wingbits aircraft enrichment (owner, operator, type)
# Contact: https://wingbits.com/
WINGBITS_API_KEY=


# ------ Conflict & Protest Data ------

# ACLED (Armed Conflict Location & Event Data — free for researchers)
# Register at: https://acleddata.com/
ACLED_ACCESS_TOKEN=


# ------ Internet Outages ------

# Cloudflare Radar API (requires free Cloudflare account with Radar access)
CLOUDFLARE_API_TOKEN=


# ------ Satellite Fire Detection ------

# NASA FIRMS (Fire Information for Resource Management System)
# Register at: https://firms.modaps.eosdis.nasa.gov/
NASA_FIRMS_API_KEY=


# ------ Cyber Threat Intelligence ------

# URLhaus (malware URL feed — optional auth for higher rate limits)
# Register at: https://urlhaus.abuse.ch/
URLHAUS_AUTH_KEY=

# AlienVault OTX (Open Threat Exchange — free tier)
# Register at: https://otx.alienvault.com/
OTX_API_KEY=

# AbuseIPDB (IP reputation lookups — free tier 1,000 checks/day)
# Register at: https://www.abuseipdb.com/
ABUSEIPDB_API_KEY=


# ═══════════════════════════════════════════
#  Relay Server (scripts/ais-relay.cjs)
# ═══════════════════════════════════════════
# The relay server handles AIS vessel tracking and OpenSky aircraft data.
# Deploy on Railway / VPS with: node scripts/ais-relay.cjs

# AISStream API key for live vessel positions
# Get yours at: https://aisstream.io/
AISSTREAM_API_KEY=

# OpenSky Network OAuth2 credentials (higher rate limits for cloud IPs)
# Register at: https://opensky-network.org/
OPENSKY_CLIENT_ID=
OPENSKY_CLIENT_SECRET=

# Port the relay server listens on (default: 3004)
# PORT=3004

# AIS snapshot broadcast interval in milliseconds (default: 5000, min: 2000)
# AIS_SNAPSHOT_INTERVAL_MS=5000


# ═══════════════════════════════════════════
#  Relay Connection (Vercel → Relay)
# ═══════════════════════════════════════════

# Server-side URL (https://) — used by Vercel edge functions to reach the relay
WS_RELAY_URL=

# Client-side URL (wss://) — used by the browser to connect via WebSocket
VITE_WS_RELAY_URL=

# OpenSky relay URL — used by desktop clients to connect to the OpenSky relay
# (typically the same host as WS_RELAY_URL with /opensky path)
# VITE_OPENSKY_RELAY_URL=


# ═══════════════════════════════════════════
#  Public Data Sources (no keys required)
# ═══════════════════════════════════════════

# UCDP (Uppsala Conflict Data Program) — public API, no auth
# UNHCR (UN Refugee Agency) — public API, no auth (CC BY 4.0)
# Open-Meteo — public API, no auth (processes Copernicus ERA5)
# WorldPop — public API, optional key for higher rate limits
# WORLDPOP_API_KEY=


# ═══════════════════════════════════════════
#  Site Configuration (VITE_* = client-side)
# ═══════════════════════════════════════════

# ------ App Branding ------
# These two values drive ALL display names and URLs across the app.
# Change them here to rebrand — no source code edits needed.
VITE_APP_TITLE=IntelHQ
VITE_APP_URL=intelhq.io

# Site variant: "full" | "tech" | "finance"
VITE_VARIANT=full

# Client-side Sentry DSN (optional). Leave empty to disable error reporting.
VITE_SENTRY_DSN=

# Israel VPS proxy for geo-blocked Oref siren alerts API
# OREF_PROXY_URL=http://195.20.17.179:3080`n# Enabled languages shown in the UI language selector (comma-separated codes)
# All supported: en,fr,de,es,it,pl,pt,nl,sv,ru,ar,zh,ja,he
VITE_ENABLED_LANGUAGES=en,he,ru,ar

# Map interaction mode:
# - "flat" keeps pitch/rotation disabled (2D interaction)
# - "3d" enables pitch/rotation interactions (default)
VITE_MAP_INTERACTION_MODE=3d

# Enable/disable AIS vessel layer (default: enabled; set to "false" to disable)
# VITE_ENABLE_AIS=true

# Enable/disable cyber threat map layer (default: disabled; set to "true" to enable)
# VITE_ENABLE_CYBER_LAYER=false


# ------ Settings Page Protection ------

# Password to protect the /settings.html page.
# If left empty, the settings page is open to anyone (current default).
# When set, visitors must enter this password before accessing settings.
# Brute-force protection: 5 failed attempts per IP → 15-minute lockout.
SETTINGS_PASSWORD=


# ------ Desktop Cloud Fallback (Vercel) ------

# Comma-separated list of valid API keys for desktop cloud fallback.
# Generate with: openssl rand -hex 24 | sed 's/^/wm_/'
INTELHQ_VALID_KEYS=


# ------ Registration DB (Convex) ------

# Convex deployment URL for email registration storage.
# Set up at: https://dashboard.convex.dev/
CONVEX_URL=


# ═══════════════════════════════════════════
#  Desktop / Tauri Builds Only
# ═══════════════════════════════════════════
# These are set automatically by `desktop:dev` / `desktop:build:*` scripts.
# Do NOT set them for normal web (Vercel) deployments.

# Force desktop runtime detection (set to "1" by build scripts)
# VITE_DESKTOP_RUNTIME=1

# Override the local sidecar API base URL (default: http://localhost:46123)
# VITE_TAURI_API_BASE_URL=

# Override the remote API base URL used as cloud fallback
# VITE_TAURI_REMOTE_API_BASE_URL=


# ═══════════════════════════════════════════
#  Local API Server / Sidecar (advanced)
# ═══════════════════════════════════════════
# Used internally by the Tauri sidecar (src-tauri/sidecar/local-api-server.mjs).
# Normally set automatically — override only for custom self-hosted setups.

# Port the local API sidecar listens on (default: 46123)
# LOCAL_API_PORT=46123

# Sidecar operating mode: "tauri-sidecar" | "desktop-sidecar" | "standalone"
# LOCAL_API_MODE=tauri-sidecar

# Auth token for sidecar requests (auto-generated by Tauri at launch)
# LOCAL_API_TOKEN=

# Path the sidecar uses to find bundled resources
# LOCAL_API_RESOURCE_DIR=

# Remote API base URL the sidecar falls back to (default: https://intelhq.io)
# LOCAL_API_REMOTE_BASE=https://intelhq.io

# Enable cloud fallback when local handlers fail (default: false)
# LOCAL_API_CLOUD_FALLBACK=false

# Max entries in the sidecar's on-disk cache (default: 5000, min: 100)
# LOCAL_API_CACHE_PERSIST_MAX=5000

# Path to a custom Node.js binary for the sidecar (auto-detected if omitted)
# LOCAL_API_NODE_BIN=


# ═══════════════════════════════════════════
#  Observability / Tuning (advanced)
# ═══════════════════════════════════════════

# How often (in requests) to log cache hit/miss telemetry (default: 200, 0 = off)
# CACHE_TELEMETRY_LOG_EVERY=200
