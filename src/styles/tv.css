/* ============================================================
   TV Variant Styles — webOS / LG Smart TV
   ============================================================
   Applied only when body.tv-mode is present.
   Follows the 10-foot UI guidelines: larger fonts, safe zones,
   simplified layout, focus-ring visibility.
   ============================================================ */

/* ============================================================
   1. Safe Zone — 5% title-safe margin (96×54 px at 1080p)
   ============================================================ */

body.tv-mode #app {
  padding: 54px 96px;
  box-sizing: border-box;
}

/* ============================================================
   2. Typography Scale — 2× base for 10-foot viewing distance
   ============================================================ */

body.tv-mode {
  font-size: 22px;
  line-height: 1.6;
  /* Disable user-select — no text cursor on TV */
  user-select: none;
  -webkit-user-select: none;
  /* Disable text-size-adjust on TV */
  -webkit-text-size-adjust: none;
  cursor: default;
}

body.tv-mode .header {
  height: 64px;
  padding: 12px 24px;
}

body.tv-mode .header .logo {
  font-size: 28px;
}

body.tv-mode .variant-switcher {
  font-size: 20px;
}

body.tv-mode .header-clock {
  font-size: 24px;
}

body.tv-mode .panel-title {
  font-size: 20px;
  font-weight: 600;
}

body.tv-mode .panel-count {
  font-size: 18px;
}

body.tv-mode .panel-header {
  padding: 12px 16px;
  min-height: 44px;
}

body.tv-mode .panel-content {
  font-size: 20px;
  line-height: 1.6;
}

body.tv-mode .panel-data-badge {
  font-size: 14px;
}

/* News items need larger text */
body.tv-mode .news-item .news-item-title {
  font-size: 22px;
  line-height: 1.4;
}

body.tv-mode .news-item .news-meta {
  font-size: 16px;
}

body.tv-mode .news-item .news-source {
  font-size: 16px;
}

/* ============================================================
   3. Layout Grid — TV-optimised 60/40 map/panels split
   ============================================================ */

body.tv-mode .main-content {
  display: grid;
  grid-template-columns: 60fr 40fr;
  gap: 0;
  height: 100%;
  overflow: hidden;
}

body.tv-mode .map-section {
  height: 100%;
  min-height: unset;
}

body.tv-mode .panels-grid {
  grid-template-columns: 1fr;
  grid-auto-rows: minmax(200px, 1fr);
  gap: 4px;
  padding: 4px;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  /* Smooth scrolling for D-pad navigation */
  scroll-behavior: smooth;
  /* Snap panels for D-pad scrolling */
  scroll-snap-type: y proximity;
}

body.tv-mode .panels-grid > .panel {
  scroll-snap-align: start;
}

/* ============================================================
   4. Panel Overrides — disable drag/resize, simplify
   ============================================================ */

/* Disable drag cursor */
body.tv-mode .panel {
  cursor: default;
}

/* Hide resize handles */
body.tv-mode .panel-resize-handle {
  display: none !important;
}

/* Disable dragging visual feedback */
body.tv-mode .panel.dragging {
  opacity: 1;
  transform: none;
}

/* ============================================================
   5. Focus Ring — high-visibility for D-pad navigation
   ============================================================ */

body.tv-mode *:focus {
  outline: 3px solid var(--green, #44ff88);
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(68, 255, 136, 0.25);
}

body.tv-mode *:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

body.tv-mode *:focus-visible {
  outline: 3px solid var(--green, #44ff88);
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(68, 255, 136, 0.25);
}

body.tv-mode .panel:focus-visible {
  outline: 3px solid var(--green, #44ff88);
  outline-offset: -1px;
  z-index: 10;
}

body.tv-mode .news-item:focus-visible,
body.tv-mode .market-item:focus-visible,
body.tv-mode .prediction-card:focus-visible {
  outline: 2px solid var(--green, #44ff88);
  outline-offset: 1px;
  background: var(--surface-hover);
}

/* Make interactive items focusable */
body.tv-mode .news-item,
body.tv-mode .market-item,
body.tv-mode .prediction-card,
body.tv-mode .monitor-card {
  /* tabindex will be set by JS in Phase 2 */
}

/* ============================================================
   6. Animation Reduction — lighter for TV GPU
   ============================================================ */

body.tv-mode *,
body.tv-mode *::before,
body.tv-mode *::after {
  /* Reduce all transition durations */
  transition-duration: 0.1s !important;
}

/* Disable heavy animations */
body.tv-mode .panel-radar-sweep {
  animation: none !important;
}

body.tv-mode .panel-loading-radar {
  display: none;
}

body.tv-mode .panel-loading {
  /* Simple loading text without radar animation */
}

body.tv-mode .panel-loading-text {
  font-size: 20px;
}

/* ============================================================
   7. Scrollbar — larger touch target for TV
   ============================================================ */

body.tv-mode ::-webkit-scrollbar {
  width: 10px;
}

body.tv-mode ::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 5px;
  min-height: 60px;
}

/* ============================================================
   8. Map Overrides
   ============================================================ */

/* Map controls need to be larger on TV */
body.tv-mode .maplibregl-ctrl-group button {
  width: 44px;
  height: 44px;
}

body.tv-mode .maplibregl-ctrl-group button span {
  font-size: 22px;
}

/* Map popups need larger text */
body.tv-mode .maplibregl-popup-content {
  font-size: 18px;
  padding: 16px;
  max-width: 500px;
}

body.tv-mode .maplibregl-popup-close-button {
  font-size: 28px;
  width: 36px;
  height: 36px;
}

/* ============================================================
   9. Header Overrides — simplify for TV
   ============================================================ */

/* Hide elements not useful on TV */
body.tv-mode .search-toggle-btn,
body.tv-mode .variant-switcher,
body.tv-mode .download-btn {
  display: none !important;
}

/* ============================================================
   10. Tooltips — disabled on TV (no hover)
   ============================================================ */

body.tv-mode .panel-info-tooltip,
body.tv-mode [title] {
  /* Tooltips rely on hover — not useful on TV */
}

body.tv-mode .panel-info-btn {
  display: none;
}

/* ============================================================
   11. Modals — centred and larger for TV
   ============================================================ */

body.tv-mode .modal-overlay {
  display: flex;
  align-items: center;
  justify-content: center;
}

body.tv-mode .modal-content {
  max-width: 60vw;
  max-height: 70vh;
  font-size: 20px;
}

body.tv-mode .modal-close-btn {
  width: 48px;
  height: 48px;
  font-size: 28px;
}

/* ============================================================
   12. Strategic Risk / Insights panels — larger meters
   ============================================================ */

body.tv-mode .risk-meter,
body.tv-mode .threat-indicator {
  min-height: 48px;
  font-size: 18px;
}

body.tv-mode .risk-score {
  font-size: 36px;
}

/* ============================================================
   13. Markets panel — readable at distance
   ============================================================ */

body.tv-mode .market-ticker {
  font-size: 22px;
}

body.tv-mode .market-price {
  font-size: 24px;
}

body.tv-mode .market-change {
  font-size: 18px;
}
